(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4796:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(5155),s=t(2115);function a(e){let{query:r}=e,[t,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(1),[o,c]=(0,s.useState)(!1),d=(0,s.useRef)(null),u=(0,s.useCallback)(async()=>{c(!0);try{let e=await fetch("https://api.unsplash.com/search/photos?query=".concat(r,"&page=").concat(i,"&per_page=12&client_id=").concat("bMidfRmg6R7he2ETleoYUQNRu-gfoXcLGrJjxXrHChE")),t=await e.json();Array.isArray(t.results)&&a(e=>[...e,...t.results])}catch(e){console.error("Error fetching images:",e)}finally{c(!1)}},[r,i]);return(0,s.useEffect)(()=>{a([]),l(1)},[r]),(0,s.useEffect)(()=>{u()},[u]),(0,s.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&!o&&l(e=>e+1)},{threshold:1});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current)}},[o]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{columnCount:4,columnGap:"16px",padding:"10px"},children:t.map(e=>(0,n.jsx)("div",{style:{breakInside:"avoid",marginBottom:"16px",background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:(0,n.jsxs)("a",{href:e.urls.full,target:"_blank",rel:"noopener noreferrer",children:[(0,n.jsx)("img",{src:e.urls.small,alt:e.alt_description||"Unsplash Image",style:{width:"100%",display:"block"}}),(0,n.jsx)("div",{style:{padding:"8px",fontSize:"0.9rem",color:"#555",textAlign:"center"},children:e.user.name})]})},e.id))}),o&&(0,n.jsx)("p",{style:{textAlign:"center",marginTop:"20px"},children:"Loading..."}),(0,n.jsx)("div",{ref:d,style:{height:"50px"}})]})}function i(){let[e,r]=(0,s.useState)("nature");return(0,n.jsxs)("main",{style:{maxWidth:"1200px",margin:"auto",padding:"20px"},children:[(0,n.jsx)("h1",{style:{textAlign:"center",fontSize:"2rem",marginBottom:"20px"},children:"Unsplash Image Search"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(e.currentTarget.elements.namedItem("search").value||"nature")},style:{display:"flex",justifyContent:"center",marginBottom:"30px"},children:[(0,n.jsx)("input",{type:"text",name:"search",placeholder:"Search images...",style:{width:"300px",padding:"10px",borderRadius:"6px",border:"1px solid #ccc",marginRight:"10px"}}),(0,n.jsx)("button",{type:"submit",style:{padding:"10px 20px",background:"#0070f3",color:"white",borderRadius:"6px",border:"none",cursor:"pointer"},children:"Search"})]}),(0,n.jsx)(a,{query:e})]})}},5050:(e,r,t)=>{Promise.resolve().then(t.bind(t,4796))}},e=>{e.O(0,[441,255,358],()=>e(e.s=5050)),_N_E=e.O()}]);